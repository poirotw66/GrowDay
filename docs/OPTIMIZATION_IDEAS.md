# GrowDay 優化建議

針對目前登入、同步與進入點流程，可考慮的優化項目（依優先順序）。

---

## 高優先：登入與進入點 UX

| 項目 | 說明 | 狀態 |
|------|------|------|
| **EntryChoice 登入按鈕 loading** | 點「Google 登入」後顯示載入中、禁用按鈕，避免重複點擊與不知是否在處理 | ✅ 已實作 |
| **登入失敗提示** | 彈窗關閉、網路錯誤時顯示「登入失敗，請重試」 | ✅ 已實作 |
| **設定內「改用 Google 同步」說明** | 在設定或說明中註明：曾選「不登入」可隨時在頂部按「Google 登入」以同步到雲端 | ✅ 已實作 |

---

## 中優先：同步與錯誤處理

| 項目 | 說明 | 狀態 |
|------|------|------|
| **Firestore 載入失敗處理** | 目前僅 `console.error`；可考慮重試一次或顯示「無法載入雲端資料，使用本機資料」提示 | - |
| **同步狀態指示** | 登入後在頂部或設定旁顯示「已同步」或「同步中」（可選，避免過度打擾） | ✅ 已實作 |
| **離線寫入** | 離線時操作先寫入本地，上線後再同步（Firestore 支援離線持久化，需在 SDK 啟用） | - |

---

## 低優先：程式與維護

| 項目 | 說明 |
|------|------|
| **Debounce 與立即同步** | 簽到／建立習慣／購買已立即同步，debounce 仍會再寫一次；可考慮關鍵操作後短暫略過 debounce 以減少重複寫入 |
| **Guest 選擇重置** | 登出後是否要清除 `growday_guest_choice`，讓下次進入再顯示「登入 or 直接使用」（目前保留選擇，減少打擾） |
| **FIREBASE_SETUP 補充** | 文件可補充 EntryChoice 流程與 `growday_guest_choice` 的用途 |

---

## 功能擴充（見 FEATURE_IDEAS.md）

新功能優先順序與難度見 `docs/FEATURE_IDEAS.md`。與登入／同步較相關的延伸：

- **習慣重新命名**、**精靈暱稱**：低難度，提升個人化。
- **資料匯出**：方便備份與從本機遷移到雲端帳號。
